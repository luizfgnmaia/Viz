"0","freq2vec <- function(x) {"
"0","  out = NULL"
"0","  for(i in 1:61) {"
"0","    tmp = prop %>%"
"0","      filter(speaker == x,"
"0","             epi_num == i) %>%"
"0","      .$prop"
"0","    out[i] = ifelse(length(tmp) == 0, 0, tmp)"
"0","  }"
"0","  out"
"0","}"
"0",""
"0","mat_freq = ratings %>%"
"0","  cbind(sapply(personagens, freq2vec))"
"0","colnames(mat_freq)[1] = ""rating"""
"0",""
"0","cor_rating = cor(mat_freq, method = ""spearman"")[-1,1]"
"0",""
"0","sort(cor_rating, decreasing = TRUE)"
"1","       Zuko "
"1","       Ozai "
"1","       Toph "
"1","      Azula "
"1","     Hakoda "
"1","       Suki "
"1","
"
"1"," 0.44011830 "
"1"," 0.40957611 "
"1"," 0.35787257 "
"1"," 0.30859284 "
"1"," 0.23609850 "
"1"," 0.22193422 "
"1","
"
"1","       Iroh "
"1","       Roku "
"1","       Zhao "
"1","       Bumi "
"1","  Long Feng "
"1","        Mai "
"1","
"
"1"," 0.21074101 "
"1"," 0.17174359 "
"1"," 0.16627787 "
"1"," 0.15974255 "
"1"," 0.15108082 "
"1"," 0.12588468 "
"1","
"
"1","       Hama "
"1","     Pathik "
"1","        Jet "
"1","      Sokka "
"1","       Aang "
"1","     Katara "
"1","
"
"1"," 0.12122290 "
"1"," 0.06229572 "
"1","-0.05067584 "
"1","-0.38144198 "
"1","-0.42776043 "
"1","-0.60494221 "
"1","
"
